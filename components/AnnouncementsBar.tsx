"use client";import {useEffect,useState} from 'react';export function AnnouncementsBar(){const[a,sA]=useState(null as any);const[d,sD]=useState(false);useEffect(()=>{fetch('/announcements.json').then(r=>r.json()).then(items=>{const now=new Date();const active=items.find((x:any)=>(!x.starts||new Date(x.starts)<=now)&&(!x.ends||new Date(x.ends)>=now)&&!localStorage.getItem(`ann-dismissed-${x.id}`));if(active)sA(active)}).catch(()=>{})},[]);if(!a||d)return null;return(<div className='bg-brand-600/20 border-b border-white/10'><div className='container py-2 text-sm flex items-center justify-between gap-4'><div className='truncate'>{a.href?<a className='hover:underline' href={a.href}>{a.text}</a>:a.text}</div><button onClick={()=>{localStorage.setItem(`ann-dismissed-${a.id}`,'1');sD(true)}} className='text-white/70 hover:text-white'>Dismiss</button></div></div>)}