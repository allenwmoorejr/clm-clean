"use client";import {useEffect,useRef,useState} from 'react';export function LiveTakeover(){const[d,sD]=useState(null as any);const prev=useRef(false);useEffect(()=>{let m=true;const poll=()=>fetch('/api/live').then(r=>r.json()).then(x=>{if(!m)return;sD(x);if(!prev.current&&x?.live)prev.current=true}).catch(()=>{});poll();const id=setInterval(poll,30000);return()=>{m=false;clearInterval(id)}},[]);if(!d?.live)return null;const href=d.videoId?`https://www.youtube.com/watch?v=${d.videoId}`:'#';return(<div className='live-takeover'><div className='live-bar'><div className='container py-2 flex items-center justify-between gap-4'><div className='font-medium'>We’re LIVE now — join the stream!</div><a href={href} target='_blank' rel='noreferrer' className='btn-primary'>Watch on YouTube</a></div></div></div>)}